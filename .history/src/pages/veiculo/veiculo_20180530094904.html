<ion-header>

    <ion-navbar color="dark">
        <button ion-button menuToggle>
                      <ion-icon name="menu"></ion-icon>
                  </button>
        <ion-title style="margin-top: 8px;">
            <span>Veículo {{ placa }}</span>
        </ion-title>
    </ion-navbar>

</ion-header>

<ion-content padding>
    <form [formGroup]="veiculoForm" (ngSubmit)="submeterDadosVeiculo()" style="margin-top: -14px;">

        <ion-list>
            <ion-item>
                <ion-label class="my-label">Tipo de veículo</ion-label>
                <ion-select formControlName="idTipoVeiculo" [(ngModel)]="veiculoEntity.idTipoVeiculo" style="font-size: 12px;" cancelText="Cancelar">
                    <ion-option *ngFor="let tipoVeiculo of tiposVeiculo" value="{{tipoVeiculo.idTipoVeiculo}}">{{tipoVeiculo.tipoVeiculo}}</ion-option>
                </ion-select>
            </ion-item>
            <div *ngIf="!veiculoForm.get('idTipoVeiculo').valid && veiculoForm.get('idTipoVeiculo').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        </ion-list>

        <ion-list>
            <ion-item>
                <!-- <ion-label class="my-label">Marca do veículo</ion-label> -->
                <!-- <select-searchable formControlName="idCidade" [isEnabled]="!estadoDisabled" class="my-label" title="Cidades" [(ngModel)]="filtroForm.idCidade" [items]="cidades" itemValueField="idCidade" itemTextField="cidade" [canSearch]="true" [noItemsFoundText]="'Nenhum registro encontrado'" -->
                <!-- <select-searchable formControlName="idMarca" class="my-label" title="Marca do veículo" [(ngModel)]="veiculoEntity.idMarca" [items]="marcasVeiculo" itemValueField="idMarca" itemTextField="marca" [canSearch]="true" [noItemsFoundText]="'Nenhum registro encontrado'" -->

                <!-- <select-searchable formControlName="idMarca" class="my-label" title="Marca do veículo" [(ngModel)]="marcaVeiculo" [items]="marcasVeiculo" itemValueField="idMarca" itemTextField="marca" [canSearch]="true" [noItemsFoundText]="'Nenhum registro encontrado'"
                    searchPlaceholder="Digite a marca do veículo" [focusSearchbar]="true"> -->
                <!-- <ng-template selectSearchableValueTemplate let-marcasVeiculo="value">
                        <div>
                            {{marcasVeiculo.marca}}
                        </div>
                    </ng-template> -->
                <!-- <ng-template selectSearchableValueTemplate let-port="value">
                        {{marcaVeiculo.marca}}
                    </ng-template> -->
                <!-- </select-searchable> -->

                <ion-label class="my-label">Marca do veículo</ion-label>
                <ion-select formControlName="idMarca" [(ngModel)]="veiculoEntity.idMarca" style="font-size: 12px;" (ionChange)="findListModeloVeiculo(veiculoEntity.idMarca)" cancelText="Cancelar">
                    <ion-option *ngFor="let marcaVeiculo of marcasVeiculo" value="{{marcaVeiculo.idMarca}}">
                        <ion-icon name="star"></ion-icon>
                    </ion-option>
                </ion-select>
            </ion-item>
            <div *ngIf="!veiculoForm.get('idMarca').valid && veiculoForm.get('idMarca').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        </ion-list>

        <ion-list>
            <ion-item>
                <ion-label class="my-label">Modelo do veículo</ion-label>
                <ion-select formControlName="idModelo" [(ngModel)]="veiculoEntity.idModelo" style="font-size: 12px;" cancelText="Cancelar">
                    <ion-option *ngFor="let modeloVeiculo of modelosVeiculo" value="{{modeloVeiculo.idModelo}}">{{modeloVeiculo.modelo}}</ion-option>
                </ion-select>
            </ion-item>
            <div *ngIf="!veiculoForm.get('idModelo').valid && veiculoForm.get('idModelo').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        </ion-list>

        <ion-item>
            <ion-label stacked>Placa</ion-label>
            <ion-input formControlName="placa" color="dark" [(ngModel)]="veiculoEntity.placa" type="text" spellcheck="false" autocapitalize="words" autocomplete="off" autocorrect="off"></ion-input>
        </ion-item>
        <div *ngIf="!veiculoForm.get('placa').valid && veiculoForm.get('placa').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        <div *ngIf="veiculoForm.get('placa').hasError('maxlength')" [ngClass]="'class-error-form'">máximo 10 caracteres</div>

        <!-- <ion-item *ngIf="!idCliente">
            <ion-label stacked>Frota</ion-label>
            <ion-input formControlName="frota" color="dark" [(ngModel)]="veiculoEntity.frota" type="text" spellcheck="false" autocomplete="off" autocorrect="off"></ion-input>
        </ion-item>
        <div *ngIf="veiculoForm.get('frota').hasError('maxlength')" [ngClass]="'class-error-form'">máximo 50 caracteres</div> -->

        <ion-item>
            <ion-label stacked>Cor</ion-label>
            <ion-input formControlName="cor" color="dark" [(ngModel)]="veiculoEntity.cor" type="text" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off"></ion-input>
        </ion-item>
        <div *ngIf="!veiculoForm.get('cor').valid && veiculoForm.get('cor').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        <div *ngIf="veiculoForm.get('cor').hasError('maxlength')" [ngClass]="'class-error-form'">máximo 50 caracteres</div>

        <!-- <ion-item *ngIf="!idCliente">
            <ion-label stacked>Chassi</ion-label>
            <ion-input formControlName="chassi" color="dark" [(ngModel)]="veiculoEntity.chassi" type="text" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off"></ion-input>
        </ion-item>
        <div *ngIf="veiculoForm.get('chassi').hasError('maxlength')" [ngClass]="'class-error-form'">máximo 100 caracteres</div> -->

        <ion-item>
            <ion-label stacked>Renavan</ion-label>
            <ion-input formControlName="renavan" color="dark" [(ngModel)]="veiculoEntity.renavan" type="text" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off"></ion-input>
        </ion-item>
        <div *ngIf="!veiculoForm.get('renavan').valid && veiculoForm.get('renavan').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        <div *ngIf="veiculoForm.get('renavan').hasError('maxlength')" [ngClass]="'class-error-form'">máximo 100 caracteres</div>

        <ion-item>
            <ion-label stacked>Modelo Fabricação</ion-label>
            <ion-input formControlName="modeloFabricacao" color="dark" [(ngModel)]="veiculoEntity.modeloFabricacao" maxlength="4" type="text" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off"></ion-input>
        </ion-item>
        <div *ngIf="!veiculoForm.get('modeloFabricacao').valid && veiculoForm.get('modeloFabricacao').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        <div *ngIf="veiculoForm.get('modeloFabricacao').hasError('maxlength')" [ngClass]="'class-error-form'">máximo 4 caracteres</div>

        <ion-item>
            <ion-label stacked>Ano Fabricação</ion-label>
            <ion-input formControlName="anoFabricacao" color="dark" [(ngModel)]="veiculoEntity.anoFabricacao" maxlength="4" type="text" spellcheck="false" autocapitalize="off" autocomplete="off" autocorrect="off"></ion-input>
        </ion-item>
        <div *ngIf="!veiculoForm.get('anoFabricacao').valid && veiculoForm.get('anoFabricacao').touched" [ngClass]="'class-error-form'">campo obrigatório</div>
        <div *ngIf="veiculoForm.get('anoFabricacao').hasError('maxlength')" [ngClass]="'class-error-form'">máximo 4 caracteres</div>

        <div>
            <button ion-button block type="submit" color="button-save-color" class="margin-button-save span-style-color">SALVAR</button>
        </div>

    </form>

    <!-- <ion-fab bottom right *ngIf="veiculoEntity.idVeiculo">
        <button ion-fab color="danger" (click)="removerVeiculoConfirm(veiculoEntity.idVeiculo)"><ion-icon ios="ios-remove" md="md-remove"></ion-icon></button>
    </ion-fab> -->

</ion-content>